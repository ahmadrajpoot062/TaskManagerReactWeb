{"ast":null,"code":"const BASE_URL = \"https://localhost:7253/api/Task\"; // Replace with your API base URL\n\n// Utility function to handle errors and responses\nconst handleResponse = async response => {\n  if (!response.ok) {\n    // Log detailed error based on the response status\n    const errorText = await response.text();\n    throw new Error(`HTTP ${response.status}: ${errorText || 'Unknown error'}`);\n  }\n  return response.json();\n};\n\n// Create a new task\nexport const createTask = async task => {\n  try {\n    const response = await fetch(`${BASE_URL}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(task)\n    });\n    return await handleResponse(response);\n  } catch (error) {\n    console.error('Error in createTask:', error);\n    throw new Error(`Failed to create task: ${error.message}`);\n  }\n};\n\n// Get all tasks\nexport const getTasks = async () => {\n  try {\n    const response = await fetch(`${BASE_URL}`);\n    return await handleResponse(response);\n  } catch (error) {\n    console.error('Error in getTasks:', error);\n    throw new Error(`Failed to fetch tasks: ${error.message}`);\n  }\n};\n\n// Get tasks by username\nexport const getTasksByUsername = async username => {\n  try {\n    const response = await fetch(`${BASE_URL}/username/${username}`);\n    return await handleResponse(response);\n  } catch (error) {\n    console.error(`Error in getTasksByUsername for user ${username}:`, error);\n    throw new Error(`Failed to fetch tasks for user ${username}: ${error.message}`);\n  }\n};\n\n// Get a task by ID\nexport const getTask = async id => {\n  try {\n    const response = await fetch(`${BASE_URL}/${id}`);\n    return await handleResponse(response);\n  } catch (error) {\n    console.error(`Error in getTask for task ID ${id}:`, error);\n    throw new Error(`Failed to fetch task with ID ${id}: ${error.message}`);\n  }\n};\n\n// Update a task by ID\nexport const updateTask = async (id, updatedTask) => {\n  try {\n    const response = await fetch(`${BASE_URL}/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(updatedTask)\n    });\n\n    // Handle empty responses (204 No Content)\n    if (response.status === 204) return null;\n    return await handleResponse(response);\n  } catch (error) {\n    console.error(`Error in updateTask for task ID ${id}:`, error);\n    throw new Error(`Failed to update task with ID ${id}: ${error.message}`);\n  }\n};\n\n// Delete a task by ID\nexport const deleteTask = async id => {\n  try {\n    const response = await fetch(`${BASE_URL}/${id}`, {\n      method: 'DELETE'\n    });\n    if (response.status === 204) {\n      return null; // No content to return\n    }\n    return await handleResponse(response);\n  } catch (error) {\n    console.error(`Error in deleteTask for task ID ${id}:`, error);\n    throw new Error(`Failed to delete task with ID ${id}: ${error.message}`);\n  }\n};","map":{"version":3,"names":["BASE_URL","handleResponse","response","ok","errorText","text","Error","status","json","createTask","task","fetch","method","headers","body","JSON","stringify","error","console","message","getTasks","getTasksByUsername","username","getTask","id","updateTask","updatedTask","deleteTask"],"sources":["C:/Users/mmob3/Desktop/task-manager/src/Services/taskapi.js"],"sourcesContent":["const BASE_URL = \"https://localhost:7253/api/Task\"; // Replace with your API base URL\r\n\r\n// Utility function to handle errors and responses\r\nconst handleResponse = async (response) => {\r\n  if (!response.ok) {\r\n    // Log detailed error based on the response status\r\n    const errorText = await response.text();\r\n    throw new Error(`HTTP ${response.status}: ${errorText || 'Unknown error'}`);\r\n  }\r\n  return response.json();\r\n};\r\n\r\n// Create a new task\r\nexport const createTask = async (task) => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(task),\r\n    });\r\n    return await handleResponse(response);\r\n  } catch (error) {\r\n    console.error('Error in createTask:', error);\r\n    throw new Error(`Failed to create task: ${error.message}`);\r\n  }\r\n};\r\n\r\n// Get all tasks\r\nexport const getTasks = async () => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}`);\r\n    return await handleResponse(response);\r\n  } catch (error) {\r\n    console.error('Error in getTasks:', error);\r\n    throw new Error(`Failed to fetch tasks: ${error.message}`);\r\n  }\r\n};\r\n\r\n// Get tasks by username\r\nexport const getTasksByUsername = async (username) => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/username/${username}`);\r\n    return await handleResponse(response);\r\n  } catch (error) {\r\n    console.error(`Error in getTasksByUsername for user ${username}:`, error);\r\n    throw new Error(`Failed to fetch tasks for user ${username}: ${error.message}`);\r\n  }\r\n};\r\n\r\n// Get a task by ID\r\nexport const getTask = async (id) => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/${id}`);\r\n    return await handleResponse(response);\r\n  } catch (error) {\r\n    console.error(`Error in getTask for task ID ${id}:`, error);\r\n    throw new Error(`Failed to fetch task with ID ${id}: ${error.message}`);\r\n  }\r\n};\r\n\r\n// Update a task by ID\r\nexport const updateTask = async (id, updatedTask) => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(updatedTask),\r\n    });\r\n\r\n    // Handle empty responses (204 No Content)\r\n    if (response.status === 204) return null;\r\n\r\n    return await handleResponse(response);\r\n  } catch (error) {\r\n    console.error(`Error in updateTask for task ID ${id}:`, error);\r\n    throw new Error(`Failed to update task with ID ${id}: ${error.message}`);\r\n  }\r\n};\r\n\r\n// Delete a task by ID\r\nexport const deleteTask = async (id) => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/${id}`, {\r\n      method: 'DELETE',\r\n    });\r\n\r\n    if (response.status === 204) {\r\n      return null; // No content to return\r\n    }\r\n\r\n    return await handleResponse(response);\r\n  } catch (error) {\r\n    console.error(`Error in deleteTask for task ID ${id}:`, error);\r\n    throw new Error(`Failed to delete task with ID ${id}: ${error.message}`);\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}